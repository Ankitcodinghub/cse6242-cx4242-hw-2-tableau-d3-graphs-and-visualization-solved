# cse6242-cx4242-hw-2-tableau-d3-graphs-and-visualization-solved
**TO GET THIS SOLUTION VISIT:** [CSE6242/CX4242: HW 2: Tableau, D3 Graphs, and Visualization Solved](https://www.ankitcodinghub.com/product/cse6242-cx4242-hw-2-tableau-d3-graphs-and-visualization-solved/)


---

üì© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
üì± **WhatsApp:** +1 419 877 7882  
üìÑ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;102055&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;5&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;5&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;5\/5 - (5 votes)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;CSE6242\/CX4242: HW 2: Tableau, D3 Graphs, and Visualization Solved&quot;,&quot;width&quot;:&quot;138&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 138px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            5/5 - (5 votes)    </div>
    </div>
<h1><a name="_Toc40250"></a><strong>Download the</strong> <a href="https://poloclub.github.io/cse6242-2023spring-online/hw2/FgCK78S3Io_hw2.zip"><strong>HW2 Skeleton</strong></a> <strong>before you begin </strong></h1>
<h1><a name="_Toc40251"></a>Homework Overview</h1>
<em>‚ÄúVisualization gives you answers to questions you didn‚Äôt know you have‚Äù ‚Äì Ben Schneiderman </em>

<em>&nbsp;</em>

This homework focuses on exploring and creating data visualizations using two of the most popular tools in the field. Data visualization is an integral part of exploratory analysis and communicating key insights. All questions use data on the same topic to highlight the uses and strengths of different types of visualizations. The data comes from <a href="https://boardgamegeek.com/">BoardGameGeek</a> and includes games‚Äô ratings, popularity, and metadata.

&nbsp;

Below are some terms you will often see in the questions:

<ul>
<li><strong>Rating</strong> ‚Äì a value from 0 to 10 given to each game. <em>BoardGameGeek </em>calculates a game‚Äôs overall rating in different ways including <strong>Average</strong> and <strong>Bayes</strong>, so make sure you are using the correct rating called for in a question. A higher rating is better than a lower rating.</li>
<li><strong>Rank</strong> ‚Äì the overall rank of a boardgame from 1 to <em>n, </em>with ranks closer to 1 being better and <em>n</em> being the total number of games. The rank may be for all games or for a subgroup of games such as abstract games or family games.</li>
</ul>
&nbsp;

&nbsp;

<h1><a name="_Toc40252"></a>Q1 [25 points] Designing a good table. Visualizing data with Tableau.</h1>
<table width="699">
<tbody>
<tr>
<td width="132">Goal</td>
<td width="567">Design a table, a grouped bar chart, and a stacked bar chart with filters in Tableau.</td>
</tr>
<tr>
<td width="132">Technology</td>
<td width="567">Tableau Desktop</td>
</tr>
<tr>
<td width="132">Deliverables</td>
<td width="567"><strong>Gradescope:</strong> After selecting HW2 ‚Äì Q1, click <strong>Submit Images</strong>. You will be taken to a list of questions for your assignment. Click <strong>Select Images</strong> and submit the following four PNG images under the corresponding questions:

‚óè&nbsp;&nbsp;&nbsp;&nbsp; <strong>table.png</strong>: Image/screenshot of the table in Q1.a

‚óè&nbsp;&nbsp;&nbsp;&nbsp; <strong>grouped_barchart.png</strong>: Image of the chart in Q1.b

‚óè&nbsp;&nbsp;&nbsp;&nbsp; <strong>stacked_barchart_1.png</strong>: Image of the chart in Q1.c after filtering data for Max.Players = 2 <strong>&nbsp;</strong>

‚óè&nbsp;&nbsp;&nbsp;&nbsp; <strong>stacked_barchart_2.png</strong>: Image of the chart in Q1.c after filtering data for

Max.Players = 4

a

<strong>Q1 will be manually graded after the grace period. </strong>
</td>
</tr>
</tbody>
</table>
<h2><a name="_Toc40253"></a>Setting Up Tableau</h2>
Install and activate Tableau Desktop by following ‚ÄúHW2 Instructions‚Äù on Canvas. The product activation key is for your use in this course only. <strong>Do not share the key with anyone.</strong> If you already have Tableau Desktop installed on your machine, you may use this key to reactivate it.

a

If you do not have access to a Mac or Windows machine, use the 14-day trial version of <em>Tableau Online</em>:

<ol>
<li>Visit <a href="https://www.tableau.com/trial/tableau-online">https://www.tableau.com/trial/tableau</a><a href="https://www.tableau.com/trial/tableau-online">‚Äì</a><a href="https://www.tableau.com/trial/tableau-online">online</a></li>
<li>Enter your information (name, email, GT details, etc.)</li>
<li>You will then receive an email to access your Tableau Online site</li>
<li>Go to your site and create a workbook</li>
</ol>
a

If neither of the above methods work, use <a href="https://www.tableau.com/academic/students">Tableau for Students</a><a href="https://www.tableau.com/academic/students"><strong>.</strong></a> Follow the link and select ‚ÄúGet Tableau For Free‚Äù. You should be able to receive an activation key which offers you a one-year use of Tableau Desktop at no cost by providing a valid Georgia Tech email.

<h2><a name="_Toc40254"></a>Connecting to Data</h2>
<ol>
<li>It is optional to use Tableau for Q1a. Otherwise, complete all parts using <strong>a single Tableau workbook</strong>.</li>
<li>Q1 will require connecting Tableau to two different data sources. You can connect to multiple data sources within one workbook by following the <a href="https://kb.tableau.com/articles/howto/connecting-multiple-data-sources-without-joining-or-blending">directions here</a><a href="https://kb.tableau.com/articles/howto/connecting-multiple-data-sources-without-joining-or-blending">.</a></li>
<li>For Q1a and Q1b:
<ol>
<li>Open Tableau and connect to a data source. Choose To a File ‚Äì <strong>Text file</strong>. Select the <strong><em>csv </em></strong>file from the skeleton.</li>
<li>Click on the graph area at the bottom section next to ‚ÄúData Source‚Äù to <a href="https://help.tableau.com/current/pro/desktop/en-us/environ_workbooksandsheets.htm">create worksheets</a><a href="https://help.tableau.com/current/pro/desktop/en-us/environ_workbooksandsheets.htm">.</a></li>
</ol>
</li>
<li>For Q1c:
<ol>
<li>You will need a <em>world</em> account to access the data for Q1c. Add a new data source by clicking on Data ‚Äì <strong>New Data Source</strong>.</li>
<li>When connecting to a data source, choose To a Server ‚Äì <strong>Web Data Connector</strong><em>. </em></li>
<li>Enter <a href="https://tableau.data.world/?dataset_name=mjpetrey%2Fboardgamegeek&amp;query=SELECT%20*%20FROM%20games_detailed_info_filtered&amp;queryType=SQL">this URL</a> to connect to the <a href="https://data.world/mjpetrey/boardgamegeek">world data set on board games</a><a href="https://data.world/mjpetrey/boardgamegeek">.</a> You may be prompted to log in to <em>data-world</em> and authorize Tableau. Do not edit the provided SQL query.</li>
</ol>
</li>
</ol>
<strong>a </strong>

<strong>NOTE:</strong> If you cannot connect to <em>data-world</em>, you can use the provided csv files for Q1 in the skeleton. The provided csv files are identical to those hosted online and can be loaded directly into Tableau.

<strong>a </strong>

<ol>
<li>Click the graph area at the bottom section to create another worksheet, and Tableau will automatically create a data extract.</li>
</ol>
&nbsp;

<h2><a name="_Toc40255"></a>Table and Chart Design</h2>
<ol>
<li><strong>[5 points]</strong> <strong>Good table design. </strong>Visualize the data contained in <em>csv a</em>s a data table. In this part (Q1a), you can use any tool (e.g., Excel, HTML, Pandas, Tableau) to create the table.</li>
</ol>
a

We are interested in grouping popular games into ‚Äúsupport solo‚Äù (min player = 1) and

‚Äúnot support solo‚Äù (min player &gt; 1). Your table should clearly communicate information about these two groups simultaneously. For each group (Solo Supported, Solo Not Supported), show:

a

<ol>
<li>Total number of games in each category (fighting, economic, ‚Ä¶)</li>
<li>The most representative game (game with the highest number of ratings) in each category. If more than one game has the same maximum number of rating, pick the game you prefer. <strong>NOTE:</strong> <a href="https://help.tableau.com/current/pro/desktop/en-us/calculations_calculatedfields_lod.htm">Level of</a> <a href="https://help.tableau.com/current/pro/desktop/en-us/calculations_calculatedfields_lod.htm">Detail expressions</a> may be useful if you use Tableau.</li>
<li>Average rating of games in each category (use simple average), rounded to 2 decimal places.</li>
<li>Average playtime of games in each category, rounded to 2 decimal places.</li>
<li>In the bottom left corner below your table, include your GT username (In Tableau, this can be done by including a caption when exporting an image of a worksheet or by adding a text box to a dashboard. If you use Tableau, refer to the tutorial <a href="https://youtu.be/fRwQenvBJ6I">here</a><a href="https://youtu.be/fRwQenvBJ6I">)</a>.</li>
<li>Save the table as<strong>png</strong>. (If you use Tableau, go to Worksheet/Dashboard ‚Üí Export ‚Üí Image). <strong>NOTE</strong><strong>:</strong> Do not take screenshots in Tableau since your image must have high resolution. You can take a screenshot If you use HTML, Pandas, etc.</li>
</ol>
a

Your learning goal here is to practice good table design, which is not strongly dependent on the tool that you use. Thus, we do not require that you use Tableau in this part. You may decide the most meaningful column names, the number of columns, and the column order. You are not limited to only the techniques described in the lecture. For OMS students, the lecture video on this topic is <em>Week 4 ‚Äì Fixing Common Visualization Issues ‚Äì Fixing Bar Charts, Line Charts</em>. For campus students, review <a href="https://poloclub.github.io/cse6242-2022fall-campus/slides/CSE6242-510-VisFix.pdf">lecture slides</a> <a href="https://poloclub.github.io/cse6242-2022fall-campus/slides/CSE6242-510-VisFix.pdf">43 and 44</a><a href="https://poloclub.github.io/cse6242-2022fall-campus/slides/CSE6242-510-VisFix.pdf">.</a>

&nbsp;

<ol>
<li><strong>[10 points]</strong> <strong>Grouped bar chart. </strong>Visualize <em>csv</em> as a grouped bar chart in Tableau. Your chart should display game category (e.g., fighting, economic,‚Ä¶) along the horizontal axis and game count along the vertical axis. Show game playtime (e.g., &lt;=30, (30, 60]) for each category.<strong> NOTE:</strong> Do not differentiate between ‚Äúsupport solo‚Äù and ‚Äúnon-support solo‚Äù for this question.</li>
</ol>
a

<ol>
<li>Design a vertically grouped bar chart. For each category, show the game count for each playtime.</li>
<li>Include clearly labeled axes, a clear chart title, and a legend.</li>
<li>In the bottom left corner of your image, include your GT username.<strong> NOTE:</strong> In Tableau, this can be done by including a caption when exporting an image of a worksheet or by adding a text box to a dashboard. Refer to the tutorial <a href="https://www.youtube.com/watch?v=fRwQenvBJ6I&amp;feature=youtu.be">here</a><a href="https://www.youtube.com/watch?v=fRwQenvBJ6I&amp;feature=youtu.be">.</a></li>
<li><strong>Save the chart as grouped_barchart.png (</strong>go to Worksheet/Dashboard ‚Üí Export ‚Üí <strong>NOTE</strong><strong>:</strong> Do not take screenshots in Tableau since your image must have high resolution.</li>
</ol>
&nbsp;

The main goal here is for you to get familiarized with Tableau. Thus, we kept this open-ended, so you can practice making design decisions. <strong>We will accept most designs. </strong>We show one possible design in Figure 1b, based on the tutorial from <a href="https://kb.tableau.com/articles/howto/stacked-bar-chart-multiple-measures">Tableau</a><a href="https://kb.tableau.com/articles/howto/stacked-bar-chart-multiple-measures">.</a>

&nbsp;

<strong>Figure 1b:</strong> Example of a grouped bar chart. Your chart may appear different and can earn full credit if it meets all the stated requirements. Your submitted image should include your GT username in the bottom left.

&nbsp;

<ol>
<li><strong>[10 points]</strong> <strong>Stacked bar chart. </strong>Visualize the <em>world</em> dataset (or <em>games_detailed_info_filtered.csv</em> if using the local files in the skeleton) as a stacked bar chart. Showcase the count of games in different categories and the relationship between game categories, their mechanics, and max player size.</li>
</ol>
a

<ol>
<li>Create a <strong>Worksheet</strong> with a stacked bar chart that shows game counts for each playing mechanic (sub-bars) for each game category. <strong>NOTE:</strong> This data contains duplicate rows, as each row represents a distinct game. Do not remove duplicate rows from the data.</li>
<li>Display game counts along the vertical axis and category along the horizontal axis.</li>
<li>Include clear axes labels, a clear chart title, and a legend.</li>
<li>Create a <strong><em>Dashboard</em> </strong>using the worksheet you created in Step 1.</li>
<li>Add a filter for number of ‚ÄòMax.Players‚Äô allowed in each game. Update the chart using this filter to generate the following chart images (Refer to the tutorial <a href="https://kb.tableau.com/articles/howto/adding-filters-to-dashboards">here</a> on how to add a filter in a dashboard.</li>
</ol>
Make sure to add ‚ÄòMax.Players‚Äô in the filter shelf in the Worksheet first, like <a href="https://help.tableau.com/current/pro/desktop/en-us/filtering.htm#drag-dimensions-measures-and-date-fields-to-the-filters-shelf">this</a><a href="https://help.tableau.com/current/pro/desktop/en-us/filtering.htm#drag-dimensions-measures-and-date-fields-to-the-filters-shelf">)</a>:

<ol>
<li>Select ‚Äú2 Players‚Äù only in the filter. Save the resulting chart as ‚Äò<strong>png</strong>‚Äò</li>
<li>Select ‚Äú4 Players‚Äù only in the filter. Save the resulting chart as ‚Äò<strong>png</strong>‚Äò</li>
<li>Both images must include your GT username in the bottom left. This can be added using a text box. Refer to the tutorial <a href="https://www.youtube.com/watch?v=fRwQenvBJ6I&amp;feature=youtu.be">here</a><a href="https://youtu.be/fRwQenvBJ6I">.</a><a href="https://youtu.be/fRwQenvBJ6I">https://youtu.be/fRwQenvBJ6I</a></li>
<li>In each image, the filter must be visible. If you are using Tableau Online, you may need to add your worksheet containing the chart to a dashboard and then download an image of the dashboard that contains both the filter and the chart.</li>
</ol>
<strong>Note: </strong>To save a dashboard image, go to Dashboard ‚Äì Export Image. Do not submit screenshots.

a

&nbsp;

<strong>Figure 1c</strong>: Example of a stacked bar chart after selecting ‚Äú4 Players‚Äù in Max.Players filter. Your chart may appear different and can earn full credit if it meets all the stated requirements. Your submitted image should include your GT username in the bottom left.

&nbsp;

<strong>Optional Reading:</strong> The effectiveness of stacked bar charts is often debated‚Äîsometimes, <a href="https://www.smashingmagazine.com/2017/03/understanding-stacked-bar-charts/">they can be confusing,</a> <a href="https://www.smashingmagazine.com/2017/03/understanding-stacked-bar-charts/">difficult to understand, and may make data series comparisons challenging</a><a href="https://www.smashingmagazine.com/2017/03/understanding-stacked-bar-charts/">.</a>

&nbsp;

&nbsp;

<h1><a name="_Toc40256"></a><strong>Important Points about Developing with D3 in Questions 2‚Äì5 </strong></h1>
<ol>
<li>We highly recommend that you use the latest Chrome browser to complete this question. We will grade your work using Chrome v92 (or higher)<strong>.</strong></li>
<li>You will work with <strong>version 5</strong> of D3 in this homework. You must <strong>NOT</strong> use any D3 libraries (d3*.js) other than the ones provided in the <strong>lib</strong></li>
<li>For Q3‚Äì5, your D3 visualization <strong>MUST</strong> produce a <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM structure</a> as specified at the end of each question. Not only does the structure help guide your D3 code design, but it also enables your code to be auto-graded (the auto-grader identifies and evaluates relevant elements in the rendered HTML). We highly recommend you review the specified DOM structure <strong>before</strong> starting to code.</li>
<li><strong>You need to setup a local HTTP server in the root (hw2-skeleton) folder to run your D3 visualizations</strong>, as discussed in the D3 lecture (OMS students: the video ‚ÄúWeek 5 ‚Äì Data Visualization for the Web (D3) ‚Äì Prerequisites: JavaScript and SVG‚Äù. Campus students: see <a href="https://poloclub.github.io/cse6242-2021fall-campus/slides/CSE6242-520-d3-stolper.pdf">lecture PDF</a><a href="https://poloclub.github.io/cse6242-2021fall-campus/slides/CSE6242-520-d3-stolper.pdf">.</a>). The easiest way is to use <a href="https://medium.com/@ryanblunden/create-a-http-server-with-one-command-thanks-to-python-29fcfdcd240e">server</a> for Python 3.x. (for more details, see <a href="https://medium.com/@ryanblunden/create-a-http-server-with-one-command-thanks-to-python-29fcfdcd240e">link</a><a href="https://medium.com/@ryanblunden/create-a-http-server-with-one-command-thanks-to-python-29fcfdcd240e">)</a>.</li>
<li><strong>All d3*.js files in the lib folder must be referenced using relative paths</strong>, e.g., <strong>‚Äú../lib/&lt;filename&gt;</strong>‚Äù in your html files. For example, if the file ‚ÄúQ2/submission.html‚Äù uses d3, its header should contain:</li>
</ol>
<strong>&lt;script type=‚Äùtext/javascript‚Äù src=‚Äù../lib/d3.v5.min.js‚Äù&gt;&lt;/script&gt; It is incorrect to use an absolute path such as:</strong>

&lt;script type=‚Äùtext/javascript‚Äù src=‚ÄùC:/Users/polo/hw2-skeleton/lib/d3.v5.min.js‚Äù&gt;&lt;/script&gt;

<ol start="6">
<li>For questions that require reading from a dataset, use a <strong>relative path</strong> to read in the dataset file<strong>.</strong> For example, suppose a question reads data from csv, the path should simply be ‚Äúearthquake.csv‚Äù and <strong>NOT</strong> an absolute path such as ‚ÄúC:/Users/polo/hw2-skeleton/Q/earthquake.csv‚Äù.</li>
<li>You can and are encouraged to decouple the style, functionality and markup in the code for each question. That is, you can use separate files for CSS, JavaScript and html.</li>
</ol>
&nbsp;

&nbsp;

<h1><a name="_Toc40257"></a>Q2 [15 points] Force-directed graph layout</h1>
<table width="699">
<tbody>
<tr>
<td width="137">Goal</td>
<td width="562">Create a network graph shows relationships between games in D3. Use interactive features like pinning nodes to give the viewer some control over the visualization.</td>
</tr>
<tr>
<td width="137">Technology</td>
<td width="562">D3 Version 5 (included in the lib folder)

Chrome v92.0 (or higher): the browser for grading your code Python http server (for local testing)
</td>
</tr>
<tr>
<td width="137">Allowed Libraries</td>
<td width="562">D3 library is provided to you in the <strong>lib</strong> folder. You must <strong>NOT</strong> use any D3 libraries (d3*.js) other than the ones provided. On Gradescope, these libraries are provided for you in the auto-grading environment.</td>
</tr>
<tr>
<td width="137">Deliverables</td>
<td width="562">[Gradescope] Q2<strong>.(html/js/css)</strong>: The HTML, JavaScript, CSS to render the graph. Do not include the D3 libraries or board_games.csv dataset.</td>
</tr>
</tbody>
</table>
&nbsp;

You will experiment with many aspects of D3 for graph visualization. To help you get started, we have provided the Q2.html file (in the Q2 folder) and an undirected graph dataset of boardgames, board_games.csv file (in the Q2 folder). The dataset for this question was inspired by <a href="https://www.reddit.com/r/boardgames/comments/9aphuw/a_network_visualization_of_the_board_game/">a reddit post</a> about visualizing boardgames as a network, where the author calculates the similarity between board games based on categories and game mechanics where the edge value between each board game (node) is the total weighted similarity index. This dataset has been modified and simplified for this question and does not fully represent actual data found from the post. The provided Q2.html file will display a graph (network) in a web browser. The goal of this question is for you to experiment with the visual styling of this graph to make a more meaningful representation of the data. <a href="https://www.oreilly.com/library/view/interactive-data-visualization/9781491921296/ch13.html">Here</a> is a helpful resource (about graph layout) for this question.

&nbsp;

<strong>Note:</strong> You can submit a single Q2.html that contains all the css and js components; or you can split Q2.html into Q2.html, Q2.css, and Q2.js. <strong>&nbsp;</strong>

&nbsp;

<ol start="2">
<li><strong>[2 points] Adding node labels</strong>: Modify Q2.html to show the node label (the node name, e.g., the source) at the <strong>top right</strong> of each node in <strong>bold</strong>. If a node is dragged, its label must move with it.</li>
</ol>
<strong>&nbsp;</strong>

<ol>
<li><strong>[3 points]</strong> <strong>Styling edges</strong>: Style the edges based on the ‚Äúvalue‚Äù field in the links array:
<ul>
<li>If the value of the edge is equal to 0 (similar), the edge should be gray, thick, and <strong>solid </strong>(The dashed line with zero gap is not considered as solid).</li>
<li>If the value of the edge is equal to 1 (not similar), the edge should be green, thin, and <strong>dashed</strong>.</li>
</ul>
</li>
</ol>
&nbsp;

<ol>
<li><strong>[3 points]</strong> <strong>Scaling nodes:</strong></li>
</ol>
&nbsp;

<ol>
<li><strong>[1.5 points] </strong>Scale the radius of each node in the graph based on the degree of the node (you may try linear or squared scale, but you are not limited to these choices).</li>
</ol>
&nbsp;

<strong>Note:</strong>Regardless of which scale you decide to use, you should avoid extreme node sizes, which will likely lead to low-quality visualization (e.g., nodes that are mere points, barely visible, or of huge sizes with overlaps).

&nbsp;

<strong>Note:</strong> D3 v5 does not support d.weight (which was the typical approach to obtain node degree in D3 v3). You may need to calculate node degrees yourself. Example relevant approach is <a href="https://stackoverflow.com/questions/43906686/d3-node-radius-depends-on-number-of-links-weight-property">here</a><a href="https://stackoverflow.com/questions/43906686/d3-node-radius-depends-on-number-of-links-weight-property">.</a>

&nbsp;

<ol start="2">
<li><strong>[1.5 points] </strong>The degree of each node should be represented by varying colors. Pick a meaningful color scheme (hint: color gradients). There should be at least 3 color gradations and it must be visually evident that the nodes with a higher degree use darker/deeper colors and the nodes with lower degrees use lighter colors. You can find example color gradients at <a href="http://colorbrewer2.org/">Color Brewer</a><a href="http://colorbrewer2.org/">.</a></li>
</ol>
&nbsp;

<ol>
<li><strong>[6 points] Pinning nodes</strong>:
<ol>
<li><strong>[2 points] </strong>Modify the code so that dragging a node will fix (i.e., ‚Äúpin‚Äù) the node‚Äôs position such that it will not be modified by the graph layout algorithm (<strong>Note</strong>: pinned nodes can be further dragged around by the user. Additionally, pinning a node should not affect the free movement of the other nodes). Node pinning is an effective interaction technique to help users spatially organize nodes during graph exploration. The D3 API for pinning nodes has evolved over time. We recommend reading <a href="https://stackoverflow.com/questions/10392505/fix-node-position-in-d3-force-directed-layout">this post</a> when you work on this sub-question.</li>
<li><strong>[1 points] </strong>Mark pinned nodes to visually distinguish them from unpinned nodes, i.e., show pinned nodes in a different color.</li>
<li><strong>[3 points] </strong>Double clicking a pinned node should unpin (unfreeze) its position and unmark it. When a node is no longer pinned, it should move freely again.</li>
</ol>
</li>
</ol>
&nbsp;

<strong>IMPORTANT:&nbsp; </strong>

<ol>
<li>For part 1 to consistently pass the autograder (which tests that a dragged node becomes pinned and retains its position), you may need to increase the radius of the highly-weighted nodes and reduce their label sizes, so that the nodes can be more easily detected by the autograder‚Äôs webdriver mouse cursor.</li>
<li>To avoid timeout errors on Gradescope, complete the double click function in part 3 before submitting.</li>
<li>If you receive timeout messages for all parts and your code works locally on your computer, verify that you are indeed using the appropriate ids provided in the ‚Äúadd the nodes‚Äù section in the skeleton code.</li>
<li>D3 v5 does not support the d.fixed method (it was deprecated after D3 v3). For our purposes, it is used as a Boolean value to indicate whether a node has been pinned or not.</li>
</ol>
&nbsp;

<ol>
<li><strong>[1 points] Add GT username: </strong>Add your Georgia Tech username (usually includes a mix of letters and numbers, e.g., gburdell3) to the top right corner of the force-directed graph (see example image). The GT username must be a &lt;text&gt; element having the id: ‚Äúcredit‚Äù</li>
</ol>
&nbsp;

<strong>Figure 2a: </strong>Example of Visualization with pinned node (yellow). Your chart may appear different, and can earn full credit if it meets all the stated requirements.

<h1><a name="_Toc40258"></a>Q3 [15 points] Line Charts</h1>
<table width="699">
<tbody>
<tr>
<td width="137">Goal</td>
<td width="562">Explore temporal patterns in the <em>BoardGameGeek </em>data using line charts in D3 to compare how the number of ratings grew. Integrate additional data about board game rankings onto these line charts and explore the effect of axis scale choice.</td>
</tr>
<tr>
<td width="137">Technology</td>
<td width="562">D3 Version 5 (included in the lib folder)

Chrome v92.0 (or higher): the browser for grading your code Python http server (for local testing)
</td>
</tr>
<tr>
<td width="137">Allowed Libraries</td>
<td width="562">D3 library is provided to you in the <strong>lib</strong> folder. You must <strong>NOT</strong> use any D3 libraries (d3*.js) other than the ones provided. On Gradescope, these libraries are provided for you in the auto-grading environment.</td>
</tr>
<tr>
<td width="137">Deliverables</td>
<td width="562">[Gradescope]<strong> Q3.(html / js / css)</strong>: The HTML, JavaScript, CSS to render the line charts. Do not include the D3 libraries or boardgame_ratings.csv dataset.</td>
</tr>
</tbody>
</table>
&nbsp;

Use the dataset provided in the file <em>boardgame_ratings.csv</em> (in the Q3 folder) to create line charts.

&nbsp;

Refer to the tutorial for line chart <a href="https://bl.ocks.org/gordlea/27370d1eea8464b04538e6d8ced39e89">here</a> or <a href="https://datawanderings.com/2019/11/01/tutorial-making-an-interactive-line-chart-in-d3-js-v-5/">here</a><a href="https://datawanderings.com/2019/11/01/tutorial-making-an-interactive-line-chart-in-d3-js-v-5/">.</a>

&nbsp;

<strong>Note:</strong> You will create four charts in this question, which should be placed one after the other <strong>on a single HTML page</strong>, similar to the example image below (Figure 3). Note that your design need NOT be identical to the example; however, the submission must follow the DOM structure specified at the end of this question.

&nbsp;

<strong>IMPORTANT: </strong>use the <a href="https://observablehq.com/d/78de05f1b179dfa5">Margin Convention</a> guide for specifying chart dimensions and layout. The autograder will assume this convention has been followed for grading purposes.

&nbsp;

<ol start="3">
<li><strong>[5 points]</strong> <strong>Creating line chart.</strong> Create a line chart (Figure 3a) that visualizes the number of board game ratings from November 2016 to August 2020 (inclusively), for the eight board games: [‚ÄòCatan‚Äô, ‚ÄòDominion‚Äô, ‚ÄòCodenames‚Äô, ‚ÄòTerraforming Mars‚Äô, ‚ÄòGloomhaven‚Äô, ‚ÄòMagic: The Gathering‚Äô, ‚ÄòDixit‚Äô, ‚ÄòMonopoly‚Äô]. Use <a href="https://bl.ocks.org/ericd9799/d7534b92d9c30edf4726aadd49cffabe">d</a><a href="https://bl.ocks.org/ericd9799/d7534b92d9c30edf4726aadd49cffabe">schemeCategory10</a><a href="https://bl.ocks.org/ericd9799/d7534b92d9c30edf4726aadd49cffabe">(</a><u>)</u> to differentiate these board games. Add each board game‚Äôs name next to its corresponding line. For the x-axis, show a tick label for every three months. Use D3 <a href="https://github.com/d3/d3-scale#tickFormat">axis.tickFormat()</a> and <a href="https://github.com/d3/d3-time-format">d3.timeFormat()</a> to format the ticks to display abbreviated months and years. For example, Jan 17, Apr 17, Jul 17. (See Figure 3a and its x-axis ticks).</li>
</ol>
&nbsp;

<ul>
<li>Chart title: Number of Ratings 2016-2020</li>
<li>Horizontal axis label: Month. Use <a href="https://github.com/d3/d3-scale#scaleTime">scaleTime()</a><a href="https://github.com/d3/d3-scale#scaleTime">.</a></li>
<li>Vertical axis label: Num of Ratings. Use a linear scale (for this part a).</li>
</ul>
&nbsp;

<strong>VERY IMPORTANT ‚Äî Beware of ‚ÄúSilent Date Conversion‚Äù:</strong> Opening the csv file in an application like Excel may silently modify date strings without warning you, e.g., converting hyphen-separated date strings (e.g., 2016-11-01) into slash-separated date strings (e.g., 11/01/16). Impacted students would see a ‚Äúcorrect‚Äù line chart visualization on their local computers, but when they upload their code to Gradescope, test cases will fail (e.g., tick labels are not found, lines are not drawn) because the x-scale cannot be computed (as the dates are parsed as NaN). <strong>To view the content of a csv file, we recommend you only use text editors (e.g., sublime text, notepad) that do not silently modify csv files. </strong>

&nbsp;

&nbsp;

<ol>
<li><strong>[5 points] Adding board game rankings.</strong> Create a line chart (Figure 3b) for this part (append to the same HTML page) whose design is a variant of what you have created in part a. Start with your chart from part a. Modify the code to visualize how the rankings of [‚ÄòCatan‚Äô, ‚ÄòCodenames‚Äô, ‚ÄòTerraforming Mars‚Äô, ‚ÄòGloomhaven‚Äô] change over time by adding a symbol with the ranking text on their corresponding lines. Show the symbol for every three months, similar to the x-axis ticks in part a. (See Figure 3b). Add a legend to explain what this symbol represents next to your chart (See the Figure 3b bottom right).</li>
</ol>
&nbsp;

<ul>
<li>Chart title: Number of Ratings 2016-2020 with Rankings</li>
</ul>
&nbsp;

<ol start="3">
<li><strong>[5 points] Axis</strong> <strong>scales in D3. </strong>Create two line charts (Figure 3c-1,2) for this part (append to the same HTML page) to try out two axis scales in D3. Start with your chart from part b. Then modify the vertical axis scale for each chart: the first chart uses the square root scale for its vertical axis (only), and the second chart uses the log scale for its vertical axis (only). Keep the symbols and the symbol legend you implemented in part b. At the bottom right of the last chart, add your <strong>GT username</strong> (e.g., gburdell3, see Figure 3c-2 for example).</li>
</ol>
&nbsp;

<strong>Note:</strong> the horizontal axes should be kept in linear scale, and only the vertical axes are affected. <strong>Hint:</strong> You may need to carefully set the scale domain to handle the 0s in data.

&nbsp;

<table width="705">
<tbody>
<tr>
<td width="48">‚ñ†

&nbsp;
</td>
<td width="657">First chart (Figure 3c-1)

‚óã Chart title: Number of Ratings 2016-2020 (Square root Scale) ‚óã This chart uses the <strong>square root</strong> scale for its vertical axis (only) ‚óã Other features should be the same as part b.
</td>
</tr>
<tr>
<td width="48">‚ñ†</td>
<td width="657">Second chart (Figure 3c-2)

‚óã Chart title: Number of Ratings 2016-2020 (Log Scale)

‚óã This chart uses the <strong>log scale</strong> for its vertical axis (only). Set the y-scale domain minimum to 1. ‚óã Other features should be the same as part b.
</td>
</tr>
</tbody>
</table>
&nbsp;

&nbsp;

<strong>Figure 3a</strong>: Example line chart. Your chart may appear different, and can earn full credit if it meets all stated requirements.

&nbsp;

&nbsp;

<strong>Figure 3b</strong>: Example of a line chart with rankings. Your chart may appear different, and can earn full credit if it meets all stated requirements.

&nbsp;

&nbsp;

&nbsp;

<strong>Figure 3c-1</strong>: Example of a line chart using square root scale. Your chart may appear different, and can earn full credit if it meets all stated requirements.

&nbsp;

&nbsp;

<strong>&nbsp;</strong>

<strong>Figure 3c-2</strong>: Example of a line chart using log scale. Your chart may appear different, and can earn full credit if it meets all stated requirements.

<strong>&nbsp;</strong>

<strong>Note:</strong> Your D3 visualization <strong>MUST</strong> produce the following <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM structure</a><a href="https://en.wikipedia.org/wiki/Document_Object_Model">.</a>

&nbsp;

&lt;<strong>svg</strong> id=‚Äùsvg-a‚Äù&gt; plot (Q3.a)

|

+‚Äì &lt;<strong>text</strong> id=‚Äùtitle-a‚Äù&gt; chart title

|

+‚Äì &lt;<strong>g</strong> id=‚Äùplot-a‚Äù&gt; containing Q3.a plot elements

|

+‚Äì &lt;<strong>g</strong> id=‚Äùlines-a‚Äù&gt; containing plot lines, line labels

|

+‚Äì &lt;<strong>g</strong> id=‚Äùx-axis-a‚Äù&gt; x-axis

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì (x-axis elements)

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>text</strong>&gt; x-axis label

|

+‚Äì &lt;<strong>g</strong> id=‚Äùy-axis-a‚Äù&gt; y-axis

|

+‚Äì (y-axis elements)

|

+‚Äì &lt;<strong>text</strong>&gt; y-axis label

&nbsp;

&lt;<strong>svg</strong> id=‚Äùsvg-b‚Äù&gt; plot (Q3.b)

|

+‚Äì &lt;<strong>text</strong> id=‚Äùtitle-b‚Äù&gt; chart title

|

+‚Äì &lt;<strong>g</strong> id=‚Äùplot-b‚Äù&gt; containing Q3.b plot elements

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>g</strong> id=‚Äùlines-b‚Äù&gt; containing plot lines, line labels

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>g</strong> id=‚Äùx-axis-b‚Äù&gt; for x-axis

|&nbsp;&nbsp; |&nbsp;&nbsp; |

|&nbsp;&nbsp; |&nbsp;&nbsp; +‚Äì (x-axis elements)

|&nbsp;&nbsp; |&nbsp;&nbsp; |

|&nbsp;&nbsp; |&nbsp;&nbsp; +‚Äì &lt;text&gt; x-axis label

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>g</strong> id=‚Äùy-axis-b‚Äù&gt; for y-axis

|&nbsp;&nbsp; |&nbsp;&nbsp; |

|&nbsp;&nbsp; |&nbsp;&nbsp; +‚Äì (y-axis elements)

| &nbsp;&nbsp;|&nbsp;&nbsp; |

|&nbsp;&nbsp; |&nbsp;&nbsp; +‚Äì &lt;<strong>text</strong>&gt; for y-axis label

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>g</strong> id=‚Äùsymbols-b‚Äù&gt; containing plotted symbols, symbol labels

|

+‚Äì &lt;<strong>g</strong> id=‚Äùlegend-b‚Äù&gt; containing legend symbol and legend text element(s)

&nbsp;

&nbsp;

&lt;<strong>svg</strong> id=‚Äùsvg-c-1‚Ä≥&gt; plot (Q3.c1): <em>same as format for Q3.b, with c-1 in ids (e.g., id=‚Äùsvg-c-1‚Ä≥, etc.) </em>

<em>&nbsp;</em>

&lt;<strong>svg</strong> id=‚Äùsvg-c-2‚Ä≥&gt; plot (Q3.c2): <em>same as format for Q3.b, with c-2 in ids </em>

<em>(e.g., id=‚Äùsvg-c-2‚Ä≥, etc.) </em>

&nbsp;

&lt;<strong>div</strong> id=‚Äùsignature‚Äù&gt; containing GT username

&nbsp;

<h1><a name="_Toc40259"></a>Q4 [20 points] Interactive Visualization</h1>
&nbsp;

<table width="699">
<tbody>
<tr>
<td width="132">Goal</td>
<td width="567">Create line charts in D3 that use interactive elements to display additional data. Then implement a bar chart that appears when you mouse over a point on the line chart.</td>
</tr>
<tr>
<td width="132">Technology</td>
<td width="567">D3 Version 5 (included in the lib folder)

Chrome v92.0 (or higher): the browser for grading your code Python http server (for local testing)
</td>
</tr>
<tr>
<td width="132">Allowed Libraries</td>
<td width="567">D3 library is provided to you in the <strong>lib</strong> folder. You must <strong>NOT</strong> use any D3 libraries (d3*.js) other than the ones provided. On Gradescope, these libraries are provided for you in the auto-grading environment.</td>
</tr>
<tr>
<td width="132">Deliverables</td>
<td width="567">[Gradescope] <strong>Q4.(html/js/css):</strong> The HTML, JavaScript, CSS to render the visualization in Q4. Do not include the D3 libraries or average-rating.csv dataset.</td>
</tr>
</tbody>
</table>
&nbsp;

Use the dataset average-rating.csv provided in the Q4 folder to create an interactive <a href="http://onlinestatbook.com/2/graphing_distributions/freq_poly.html">frequency polygon</a> line chart. This dataset contains a list of games, their ratings and supporting information like the numbers of users who rated a game and the year a game was published. In the data sample below, each row under the header represents a game name, year of publication, average rating, and the number of users who rated the game. Helpful resource to work with nested data in D3: <a href="https://gist.github.com/phoebebright/3176159">https://gist.github.com/phoebebright/3176159</a>

&nbsp;

name,year,average_rating,users_rated Codenames,2015,7.71148,51209

King of Tokyo,2011,7.23048,48611

<strong>&nbsp;</strong>

<ol start="7">
<li><strong>[3 points] Create a line chart.</strong> Summarize the data by displaying the count of board games by rating for each year. Round each rating down to the nearest integer, using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/floor">floor()</a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/floor">.</a> For example, a rating of 7.71148 becomes 7. For each year, sum the count of board games by rating. Display one plot line for each of the 5 years (2015-2019) in the dataset. <strong>Note</strong>: the dataset comprises year data from 2011 to 2020; this question asks to plot lines for the years 2015-2019. If some of the datapoints in the chart do not have ratings, generate dummy values (0s) to be displayed on the chart for the required years.</li>
</ol>
&nbsp;

All axes must start at 0, and their upper limits must be automatically adjusted based on the data. <strong>Do not</strong> <strong>hard-code the upper limits. Note: </strong>if you are losing points on Gradescope for axis or scale, ensure that you are using the proper <a href="https://observablehq.com/d/78de05f1b179dfa5">margin convention</a> without any additional paddings or translations.

<ul>
<li>The vertical axis represents the count of board games for a given rating. Use a <a href="https://github.com/d3/d3-scale#linear-scales">linear scale</a><a href="https://github.com/d3/d3-scale#linear-scales">.</a></li>
<li>The horizontal axis represents the ratings. Use a linear scale.</li>
</ul>
&nbsp;

<ol>
<li><strong>[3 points]</strong> <strong>Line styling, legend, title and username. </strong>
<ul>
<li>For each line, use a different color of your choosing. Display a filled circle for each rating-count data point.</li>
<li>Display a legend on the right-hand portion of the chart to show how line colors map to years.</li>
<li>Display the title ‚ÄúBoard games by Rating 2015-2019‚Äù at the top of the chart.</li>
<li>Add your GT username (usually includes a mix of lowercase letters and numbers, e.g., gburdell3) beneath the title (see example figure 4b).</li>
</ul>
</li>
</ol>
&nbsp;

Figure 4b shows an example line chart design. Yours may look different, but can earn full credit if it meets all stated requirements.

&nbsp;

<strong>Note:</strong> The data provided in average-rating.csv requires some processing for aggregation. <strong>All aggregation must only be performed in JavaScript;</strong> <strong>you must </strong><strong>NOT modify </strong><strong>average-rating.csv</strong>. That is, your code should first read the data from .csv file as is, then you may process the loaded data using JavaScript. If you are getting a&nbsp; MoveTargetOutOfBoundsException,&nbsp; (a) check that your <a href="https://observablehq.com/d/78de05f1b179dfa5">margin convention</a> is correct, and&nbsp; (b) make sure to check the Dropbox linked screenshot of your graph to get a good idea of how the plot could be Improved compared to the sample graph provided.

&nbsp;

&nbsp;

<strong>Figure 4b:</strong> Line chart representing count of board games by rating for each year. Your chart may appear different, but can earn full credit if it meets all stated requirements.

&nbsp;

<strong>Interactivity and sub-chart. </strong>In the next few sub-questions, you will create event handlers to detect mouseover and mouseout events over each circle that you added in Q4.b.

&nbsp;

&nbsp;

&nbsp;

<strong>Figure 4c:</strong> Bar chart representing the number of users who rated the top 5 board games with the rating 6 in year 2019. Your chart may appear different, but can earn full credit if it meets all stated requirements.

<strong>&nbsp;</strong>

<ol>
<li><strong>[5 points]</strong> <strong>Create a horizontal bar chart</strong>, so that when hovering over a circle, that bar chart will be shown <em>below </em>the line chart. The bar chart displays the top 5 board games that received the highest numbers of user ratings (users_rated), for the hovered year and rating. For example, hovering over the rating-6 circle for 2019 will display the bar chart for the number of users who rated the top 5 board games. If a certain year/rating combination has fewer than 5 entries, it should display as many as there are. Figure 4c shows an example design. Show one bar per game. The bar length represents the number of users who rated the game.</li>
</ol>
<strong>Note</strong>: No bar chart should be displayed when the count of games is 0 for hovered year and rating.

&nbsp;

Axes: All axes should be automatically adjusted based on the data. Do not hard-code any values.

<ul>
<li>The vertical axis represents the board games. Sort the game names in descending order, such that the game with the highest users_rated is at the bottom, and the game with the smallest users_rated is at the top. Some boardgame names are quite long. For each game name, display its first 10 characters (if a name has fewer than 10 characters, display them all). A space counts as a character. The horizontal axis represents the number of users who rated the game (for the hovered year and rating). Use a linear scale.</li>
<li>Set horizontal axis label to ‚ÄòNumber of users‚Äô and vertical axis label to ‚ÄòGames‚Äô.</li>
</ul>
<strong>&nbsp;</strong>

<ol>
<li><strong>[3 points] Bar styling, grid lines and title</strong></li>
</ol>
&nbsp;

<ul>
<li>Bars: All bars should have the same color regardless of year or rating. All bars for the specific year should have a uniform bar thickness.</li>
<li>Grid lines should be displayed.</li>
<li>Title: Display a title with the format ‚ÄúTop 5 Most Rated Games of &lt;Year&gt; with Rating &lt;Rating&gt;‚Äù at the top of the chart where &lt;Year&gt; and &lt;Rating&gt; are what the user hovers over in the line chart. For example, hovering over rating 6 in 2015, the title would read: ‚ÄúTop 5 Most Rated Games of 2015 with Rating 6‚Äù</li>
</ul>
&nbsp;

<ol>
<li><strong>[3 points]</strong> <strong>Mouseover Event Handling</strong></li>
</ol>
&nbsp;

<ul>
<li>The bar chart and its title should only be displayed during mouseover events for a circle in the line chart.</li>
<li>The circle in the line chart should change to a larger size during mouseover to emphasize that it is the selected point.</li>
<li>When count of games is 0 for hovered year and rating, no bar chart should be displayed. The hovered-over circle on the line graph should still change to a larger size to show it is selected.</li>
</ul>
<strong>&nbsp;</strong>

<strong>Hint</strong>: .attr() is generally used for describing the size, shape, location, etc. of an element, whereas .style() is used for other design aspects like color, opacity, etc.

&nbsp;

<ol>
<li><strong>[3 points]</strong> <strong>Mouseout Event Handling </strong></li>
</ol>
&nbsp;

<ul>
<li>The bar chart and its title should be hidden from view on mouseout and the circle previously mouseover-ed should return to its original size in the line chart.</li>
</ul>
&nbsp;

The graph should exhibit interactivity similar to Figure 4f where the mouse is over the larger circle.

&nbsp;

&nbsp;

&nbsp;

&nbsp;

<strong>Figure 4f:</strong> Line chart and bar chart demonstrating interactivity. Your chart may appear different, but can earn full credit if it meets all stated requirements.

&nbsp;

<strong>Note:</strong> Your D3 visualization <strong>MUST</strong> produce the following <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM structure</a><a href="https://en.wikipedia.org/wiki/Document_Object_Model">.</a>

&nbsp;

&lt;<strong>svg id=‚Äùline_chart‚Äù</strong>&gt; containing line chart

|

+‚Äì &lt;<strong>g</strong> id=‚Äùcontainer‚Äù&gt;

|

+‚Äì &lt;<strong>g</strong> id=‚Äùlines‚Äù&gt; element containing all line elements

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +‚Äì &lt;<strong>path</strong>&gt; elements for plotted lines |

+‚Äì &lt;<strong>g</strong> id=‚Äùx-axis-lines‚Äù&gt; element for x-axis

|

+‚Äì &lt;<strong>g</strong> id=‚Äùy-axis-lines‚Äù&gt; element for y-axis

|

+‚Äì &lt;<strong>g</strong> id=‚Äùcircles‚Äù&gt; element for all circular elements

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +‚Äì &lt;<strong>circle</strong>&gt; elements

|

+‚Äì &lt;<strong>text </strong>id=‚Äùline_chart_title‚Äù&gt; element for line chart title

|

+‚Äì &lt;<strong>text </strong>id=‚Äùcredit‚Äù&gt; element for GT username

|

+‚Äì &lt;<strong>g</strong> id=‚Äùlegend‚Äù&gt; element for legend

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +‚Äì (&lt;<strong>circle</strong>&gt; elements for legend)

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +‚Äì (&lt;<strong>text</strong>&gt; elements for legend)

|

+‚Äì &lt;<strong>text</strong>&gt; element for x axis label

|

+‚Äì &lt;<strong>text</strong>&gt; element for y axis label

&nbsp;

&lt;<strong>div </strong>id=‚Äùbar_chart_title‚Äù &gt; containing bar chart title

&nbsp;

&lt;<strong>svg</strong> id=‚Äùbar_chart‚Äù &gt; containing bar chart

|

+‚Äì &lt;<strong>g</strong> id=‚Äùcontainer_2‚Äù&gt;

|

+‚Äì &lt;<strong>g</strong> id=‚Äùbars‚Äù&gt; element for bars

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |

| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +‚Äì &lt;<strong>rect</strong>&gt; elements for bars

|

+‚Äì &lt;<strong>g</strong> id=‚Äùx-axis-bars‚Äù&gt; element for x-axis

|

+‚Äì &lt;<strong>g</strong> id=‚Äùy-axis-bars‚Äù&gt; element for y-axis

|

+‚Äì &lt;<strong>text </strong>id=‚Äùbar_x_axis_label‚Äù&gt; element for x axis label |

+‚Äì &lt;<strong>text</strong> id=‚Äùbar_y_axis_label‚Äù&gt; element for y axis label

&nbsp;

<h1><a name="_Toc40260"></a>Q5 [25 points] Choropleth Map of Board Game Ratings</h1>
&nbsp;

<table width="699">
<tbody>
<tr>
<td width="137">Goal</td>
<td width="562">Create a choropleth map in D3 to explore the average rating of board games in different countries.</td>
</tr>
<tr>
<td width="137">Technology</td>
<td width="562">D3 Version 5 (included in the lib folder)

Chrome v92.0 (or higher): the browser for grading your code Python http server (for local testing)
</td>
</tr>
<tr>
<td width="137">Allowed Libraries</td>
<td width="562">D3 library is provided to you in the <strong>lib</strong> folder. You must <strong>NOT</strong> use any D3 libraries (d3*.js) other than the ones provided. On Gradescope, these libraries are provided for you in the auto-grading environment.</td>
</tr>
<tr>
<td width="137">Deliverables</td>
<td width="562">[Gradescope] <strong>Q5.(html/js/css)</strong>: Modified file(s) containing all html, javascript, and any css code required to produce the plot. Do not include the D3 libraries or csv files.</td>
</tr>
</tbody>
</table>
&nbsp;

Choropleth maps are a very common visualization in which different geographic areas are colored based on the value of a variable for each geographic area. You have most probably seen choropleth maps showing quantities like <a href="https://bl.ocks.org/adamjanes/6cf85a4fd79e122695ebde7d41fe327f">unemployment rates for each county in the US</a><a href="https://bl.ocks.org/adamjanes/6cf85a4fd79e122695ebde7d41fe327f">,</a> or the <a href="https://theuscovidatlas.org/map">number of confirmed COVID</a><a href="https://theuscovidatlas.org/map">‚Äì</a><a href="https://theuscovidatlas.org/map">19 cases</a> <a href="https://theuscovidatlas.org/map">per 10,000 people</a>at the county level.

&nbsp;

We will use choropleth maps to examine the popularity of different board games across the world. We have provided two files in the Q5 folder, <strong><em>ratings-by-country.csv</em></strong> and <strong><em>world_countries.json</em></strong>.

<ul>
<li>Each row in <em>ratings-by-country.csv</em> represents about a game‚Äôs information for a country, in the form of &lt;Game,Country,Number of Users,Average Rating&gt;, where o Game: the name of a game, e.g., Catan. o Country: a country in the world, e.g., United States of America. o Number of Users: the number of users who have rated Game who are from Country.</li>
</ul>
o Average Rating: the mean rating given to Game by users who are from Country. This dataset has been preprocessed and filtered to include only those games that have been rated by more than 1000 users in the world.

<ul>
<li>The <em>json </em>file is a <a href="https://en.wikipedia.org/wiki/GeoJSON">geoJSON</a><a href="https://en.wikipedia.org/wiki/GeoJSON">,</a> containing a single geometry collection: <em>countries</em>. You can find examples of map generation using geoJSON <a href="https://datawanderings.com/2018/10/28/making-a-map-in-d3-js-v-5/">here</a><a href="https://datawanderings.com/2018/10/28/making-a-map-in-d3-js-v-5/">.</a></li>
</ul>
&nbsp;

<ol>
<li><strong> [20 points] </strong>Create a choropleth map using the provided data, and use Figure 5a and 5b as references.</li>
<li><strong>[5 points] </strong>Dropdown lists are commonly used on dashboards to enable filtering of data. Create a dropdown list (see example in Figure 5a) to allow users to select which game‚Äôs data are displayed.
<ul>
<li>The list options should be obtained from the Game column of the csv file. <strong>&nbsp;</strong></li>
<li>Sort the list options in (case-sensitive) alphabetical order. Set the default display value to the first option.</li>
<li>Selecting a different game from the dropdown list should update both the choropleth map (see part 2) and the legend (see part 3) accordingly.</li>
</ul>
</li>
</ol>
&nbsp;

<strong>Hint: </strong>If failing to load map, you may try this <a href="https://stackoverflow.com/questions/61205390/how-to-fix-the-devtools-failed-to-load-sourcemap-could-not-load-content-error">method</a><a href="https://stackoverflow.com/questions/61205390/how-to-fix-the-devtools-failed-to-load-sourcemap-could-not-load-content-error">.</a>

&nbsp;

<ol start="2">
<li><strong>[10 points] </strong>Load the data from <em>ratings-by-country.csv</em> and create a choropleth map such that the color of each country in the map corresponds to the <strong>average rating of the game selected in the dropdown</strong> in each country. Use a ‚ÄúNatural Earth‚Äù projection of the geoJSON file. Name the function for calculating path as ‚Äòpath‚Äô, to help the auto-grader locate it. Create a projection first and use it as an input for the path.</li>
</ol>
&nbsp;

<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all">Promise.all()</a> is provided within the skeleton code and you can use it to read in both the world json file and game data csv file. Usage example: <a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">https://datawanderings.com/2018/08/15/d3</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">‚Äì</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">js</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">‚Äì</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">v5</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">promise</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">‚Äì</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">syntax</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">‚Äì</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">examples/</a><a href="https://datawanderings.com/2018/08/15/d3-js-v5-promise-syntax-examples/">.</a>

&nbsp;

Many countries have no ratings for some games ‚Äì these should be <strong>colored gray</strong>.

&nbsp;

For those countries that do have ratings for the selected game, use a <a href="https://github.com/d3/d3-scale/blob/master/README.md#quantile-scales">quantile scale</a> to generate the color scheme based on the average rating by country. Color them along a gradient of exactly 4 gradations from a single hue, with darker colors corresponding to higher rating values and lighter colors correspond to lower values (see gradient examples at <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=4">Color Brewer</a><a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=4">)</a>.

&nbsp;

<strong>About Scaling Colormaps:</strong> In order to create effective visualizations that highlight patterns of interest, it is important to carefully think about the relationship between the range and distribution of values being displayed (the domain) and the color scale the values are mapped to (the range). Many types of mapping functions are possible, e.g., we could use a linear mapping where the lowest game rating is mapped to the first value in the color scheme, the highest game rating is mapped to the highest value in the color scheme, and intermediate ratings are mapped to hues in the middle. <a href="https://earthobservatory.nasa.gov/blogs/elegantfigures/2014/07/29/adjusting-the-range-how-to-scale-data/">This</a> <a href="https://earthobservatory.nasa.gov/blogs/elegantfigures/2014/07/29/adjusting-the-range-how-to-scale-data/">article</a> illustrates the value of choosing appropriate endpoints for linear color maps, or log-scaling the domain so that large but relatively infrequent values do not cause differences between smaller values to be washed out. In our case, most board games have similar average ratings across countries, e.g. Catan has an average rating close to 9.3 in almost all countries, making it challenging to perceive relative differences in popularity. To address this, we can compute <a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales#:~:text=Quantiles%20are%20defined%2C%20in%20statistics,with%20respect%20to%20the%20initial">quantiles of the</a> <a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales#:~:text=Quantiles%20are%20defined%2C%20in%20statistics,with%20respect%20to%20the%20initial">domain data</a><a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales#:~:text=Quantiles%20are%20defined%2C%20in%20statistics,with%20respect%20to%20the%20initial">‚Äî</a>game rating values that divide the ordered list of average ratings per country into roughly equally-sized groups. Here, we will get 4 groups, a special case of quantiles called ‚Äúquartiles‚Äù since the data are divided into quarters.

&nbsp;

<strong>Hint:</strong> You can verify the correctness of the quartiles generated by using the <a href="https://support.microsoft.com/en-us/office/quartile-function-93cf8f62-60cd-4fdb-8a92-8451041e1a2a">‚Äò</a><a href="https://support.microsoft.com/en-us/office/quartile-function-93cf8f62-60cd-4fdb-8a92-8451041e1a2a">quartile</a><a href="https://support.microsoft.com/en-us/office/quartile-function-93cf8f62-60cd-4fdb-8a92-8451041e1a2a">‚Äò</a> function in Excel. Open ratings-by-country.csv and filter the data for one game (say Catan). Then use the quartile function to get the 0<sup>th</sup>, 1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup> and 4<sup>th</sup> quartile values from the Average Rating column. Here [0<sup>th</sup> quartile, 1<sup>st</sup> quartile], [1<sup>st</sup> quartile, 2<sup>nd</sup> quartile], [2<sup>nd</sup> quartile, 3<sup>rd</sup> quartile], [3<sup>rd</sup> quartile, 4<sup>th</sup> quartile] will represent the 4 groups of values generated by the d3 quantile scale. Use all the countries listed in ratings-by-country.csv to generate your quartiles depending on the selection, including ones which may not appear in the geoJSON.

&nbsp;

<ol start="3">
<li><strong>[5 points]</strong> Add a <strong>vertical</strong> legend showing how colors map to the average rating for a particular game. The legend must update for the quartiles of the selected game, and display values formatted to show precision up to 2 decimal places. You must use <strong>exactly 4</strong> color gradations in your submission. It is recommended, but not required, to use <a href="https://d3-legend.susielu.com/">d3</a><a href="https://d3-legend.susielu.com/">‚Äì</a><a href="https://d3-legend.susielu.com/">legend.min.js</a> (in the <strong>lib </strong>folder) to create the legend for the scale you use. Also, <strong>display your GT username</strong> (e.g., gburdell3) beneath the map.</li>
</ol>
&nbsp;

<ol>
<li><strong> [5 points]</strong> Add a tooltip using the <a href="https://github.com/Caged/d3-tip">d3</a><a href="https://github.com/Caged/d3-tip">‚Äì</a><a href="https://github.com/Caged/d3-tip">tip.min</a> library (in the <strong>lib</strong> folder). On hovering over a country, the tooltip should show the following information on separate lines:</li>
</ol>
<ul>
<li><em>Country</em> name</li>
<li><em>Game</em></li>
<li><em>Avg Rating</em> for that game in that country</li>
<li><em>Number of Users</em> from the Country who rated the game</li>
</ul>
For countries with no data, the tooltip should display ‚ÄúN/A‚Äù for <em>Avg Rating</em> and <em>Number of Users</em>.

&nbsp;

The tooltip should appear when the <strong>mouse </strong>hovers over the country. Figure 5b demonstrates this for Catan. On mouseout, the tooltip should disappear. You can position the tooltip a small distance away from the <strong>mouse cursor and have it follow the cursor</strong>, which will prevent the tooltip from ‚Äúflickering‚Äù as you move the mouse around quickly (the tooltip disappears when your mouse leaves a state and enters the tooltip‚Äôs bounding box). Alternatively, you may position the tooltip at a location (picked by you) such that it is close to the country the cursor is currently at. Please ensure that the tooltip is fully visible (i.e., not clipped, especially near the page edges). If the tooltip becomes clipped you may lose points.

&nbsp;

<strong>Note:</strong> You <strong>must </strong>create the tooltip by <strong>only </strong>using <strong>d3-tip.min.js </strong>in the<strong> lib </strong>folder.

&nbsp;

&nbsp;

<strong>Figure 5a:</strong> Reference example for Choropleth Map showing average rating of Catan. Your chart may appear different and earn full credit as long as it meets all stated requirements.

&nbsp;

&nbsp;

<strong>Figure 5b:</strong> Reference example for Choropleth Map showing tooltip. Your chart may appear different and earn full credit as long as it meets all stated requirements.

&nbsp;

&nbsp;

&nbsp;

<strong>Figure 5c:</strong> Reference example showing updated Choropleth and legend for Azul. Your chart may appear different and earn full credit as long as it meets all stated requirements.

&nbsp;

<strong>Tips and hints </strong>

<ul>
<li>Countries without data should be colored gray. These countries can be found using a condition that compares the country‚Äôs average rating with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">‚Äò</a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">‚Äò</a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">.</a></li>
<li>It is optional for your visualization to show (or not show) Antarctica.</li>
<li>D3-tip warning may be ignored if it does not break the code.</li>
<li>You may consider clearing the SVG and create a new map when selecting a new game.</li>
</ul>
&nbsp;

<strong>Note:</strong> You may change the given code in choropleth.html as necessary. Your D3 visualization <strong>MUST</strong> produce the following <a href="https://en.wikipedia.org/wiki/Document_Object_Model">DOM structure</a><a href="https://en.wikipedia.org/wiki/Document_Object_Model">.</a>

&nbsp;

&nbsp;

&lt;<strong>select</strong> id=‚ÄùgameDropdown‚Äù&gt; sorted list of game options

|

+‚Äì &lt;<strong>option</strong>&gt; (one option for each game; <em>value </em>= game name)

|

+‚Äì text (= game name)

&nbsp;

&lt;<strong>svg id=‚Äùchoropleth‚Äù</strong>&gt; contains choropleth map

|

+‚Äì &lt;<strong>g</strong> id=‚Äù countries‚Äù&gt;

|&nbsp;&nbsp; |

|&nbsp;&nbsp; +‚Äì &lt;<strong>path</strong>&gt;s for each country

|

+‚Äì &lt;<strong>g</strong> id=‚Äùlegend‚Äù&gt; legend

&nbsp;

&lt;<strong>div</strong> id=‚Äùtooltip‚Äù&gt; contains tooltip to display (Q5.b)

|

+‚Äì (text for tooltip)

&nbsp;
